
<style>
  body{
    margin-top:20px;
    color: #1a202c;
    text-align: left;
    /* background-color: #e2e8f0; .  */
    background-color: #eee !important
}
.main-body {
    padding: 15px;
}
.card {
    box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);
}

.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid rgba(0,0,0,.125);
    border-radius: .25rem;
}

.card-body {
    flex: 1 1 auto;
    min-height: 1px;
    padding: 1rem;
}

.gutters-sm {
    margin-right: -8px;
    margin-left: -8px;
}

.gutters-sm>.col, .gutters-sm>[class*=col-] {
    padding-right: 8px;
    padding-left: 8px;
}
.mb-3, .my-3 {
    margin-bottom: 1rem!important;
}

.bg-gray-300 {
    background-color: #e2e8f0;
}
.h-100 {
    height: 100%!important;
}
.shadow-none {
    box-shadow: none!important;
}
</style>
    
<%- include('../partials/navbar')%>

    <body>
      
        
<div class="container">
  <div class="main-body">
  <div class=" d-flex justify-content-between bg-light rounded-3 p-3 mb-4 align-items-center">
<!--    
        <div class="col">
          <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4"> -->
            <div> 
              <h3 class="fw-bold">Rating & Reviews</h3>
            </div>
            <div class="row">
              <div class="col">
              <p class="text-truncate" style="max-width: 200px;"><%-product.productname%></p>

              </div>
              <div class="col">
           
              <img src="<%-product.images[0].url%>" style="height: 50px; width: 50px; border: 1px solid	#383838" alt="">
              </div>
            </div>
            <!-- <ol class="breadcrumb mb-0">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item"><a href="#">User</a></li>
              <li class="breadcrumb-item active" aria-current="page">User Profile</li>
            </ol> -->
<!-- 
          </nav>
        </div> -->
  </div>
        <!-- Breadcrumb -->
        <!-- <nav aria-label="breadcrumb" class="main-breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item"><a href="javascript:void(0)">User</a></li>
            <li class="breadcrumb-item active" aria-current="page">User Profile</li>
          </ol>
        </nav> -->
        <!-- /Breadcrumb -->
  
        <div class="row gutters-sm">
          <div class="col-md-4 mb-3">
            <!-- <div class="card">
              <div class="card-body">
                <div class="d-flex flex-column align-items-center text-center">
                  <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
                  <div class="mt-3">
                    <h4>John Doe</h4>
                    <p class="text-secondary mb-1">Full Stack Developer</p>
                    <p class="text-muted font-size-sm">Bay Area, San Francisco, CA</p>
                    <button class="btn btn-primary">Follow</button>
                    <button class="btn btn-outline-primary">Message</button>
                  </div>
                </div>
              </div>
            </div> -->
            <div class="card ">
              <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                 <h4 class="fw-normal p-2">What makes a good review</h4>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                  <h5 class="p-2" >Have you used this product?</h5>
                 <p>Your review should be about your experience with the product.</p>
                 
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                  <h5 class="p-2" >Why review a product?</h5>
                 <p>Your valuable feedback will help fellow shoppers decide!</p>
                 
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                  <h5 class="p-2" >How to review a product?</h5>
                 <p>
Your review should include facts. An honest opinion is always appreciated. If you have an issue with the product or service please contact us from the help centre.</p>
                 
                </li>
               
              </ul>
            </div>
          </div>
          <div class="col-md-8">
            <div class="card mb-3">
              <div class="card-body">
                  <h2 class="text-center fw-bold mt-3"></h2>
                  <div class="col-sm-12 ">

<form method="post" action="/productview/<%-id%>/writeReview" id="myForm">
  <div class="mb-3">
    <label for="rating" class="form-label">Rating</label>
    <input type="range" class="form-range" name="rating" id="rating" onkeyup="validateRating()" min="1" max="5"/>
    <span id="rating-error"></span>
  </div>

  

 

  <div class="mb-3">
    <label for="description" class="form-label">Review</label>
    <textarea class="form-control" name="body" id="description" rows="10" onkeyup="validateDescription()"></textarea>
    <span id="description-error"></span>
  </div>
 



<div class="d-flex justify-content-center">
  <button type="submit" class="btn btn-primary align-center">Submit</button>

</div>
</form>
</div>

                
               
                
              </div>
            </div>




          </div>
        </div>

      </div>
  </div>       
              
<%- include('../partials/footer')%>


<script>
   const form = document.getElementById("myForm");
  const ratingError = document.getElementById("rating-error");
  const descriptionError = document.getElementById("description-error");

 

  form.addEventListener('submit', e => {
      
      if(validateDescription()){
        sessionStorage.setItem("addReview", "true");

      }else{
        e.preventDefault()
        var error=document.getElementById('submit-error')
        error.innerHTML='Fill all fields'
        error.style.color='red'
        setTimeout(function(){
          error.innerHTML=''
        },3000);
      } 
    })

    function validateRating() {
    var name=document.getElementById('rating').value.trim();  

    if (name.length==0) {
        ratingError.innerHTML='Rating cannot be empty';
        ratingError.style.color='red'
        return false;
    }

    
  
    return true;
}


function validateDescription() {
    var description=document.getElementById('description').value.trim();  
    if (description.length==0) {
        descriptionError.innerHTML='Description cannot be empty';
        descriptionError.style.color='red'
        return false;
    }

  
    descriptionError.innerHTML='';
    
   
    return true;
}


</script>
</body>           